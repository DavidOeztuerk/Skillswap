# =============================================================================
# SKILLSWAP ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 64
# CRITICAL: Use the SAME secret across all services for JWT validation to work!
JWT_SECRET=REPLACE_WITH_64_CHAR_BASE64_SECRET

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL password for all services
DB_PASSWORD=REPLACE_WITH_SECURE_DB_PASSWORD

# -----------------------------------------------------------------------------
# Machine-to-Machine (M2M) Authentication
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
# Each service should have its own unique M2M client secret
M2M_CLIENT_SECRET=REPLACE_WITH_M2M_CLIENT_SECRET

# -----------------------------------------------------------------------------
# Encryption Keys (for SecretManager)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
# WARNING: Changing this will invalidate all encrypted secrets!
SECRET_MANAGER_ENCRYPTION_KEY_BASE64=REPLACE_WITH_32_CHAR_BASE64_KEY

# -----------------------------------------------------------------------------
# Redis Configuration (Optional - uses localhost by default)
# -----------------------------------------------------------------------------
REDIS_CONNECTION_STRING=localhost:6379,connectTimeout=60000,connectRetry=3,defaultDatabase=0

# -----------------------------------------------------------------------------
# RabbitMQ Configuration (Optional - uses localhost by default)
# -----------------------------------------------------------------------------
RABBITMQ_HOST=localhost
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_PORT=5672

# -----------------------------------------------------------------------------
# Email Service Configuration (NotificationService)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM=noreply@skillswap.com

# -----------------------------------------------------------------------------
# SMS Service Configuration (NotificationService)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# -----------------------------------------------------------------------------
# Push Notification Configuration (NotificationService)
# -----------------------------------------------------------------------------
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email

# -----------------------------------------------------------------------------
# External APIs (Optional)
# -----------------------------------------------------------------------------
# Add any third-party API keys here
# OPENAI_API_KEY=sk-...
# STRIPE_SECRET_KEY=sk_test_...

# -----------------------------------------------------------------------------
# LinkedIn OAuth 2.0 Configuration
# -----------------------------------------------------------------------------
# Register your app at: https://www.linkedin.com/developers/apps
# Required scopes: openid, profile, email, w_member_social
# For full profile access, you may need: r_liteprofile, r_emailaddress
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret
# Redirect URI must be registered in LinkedIn Developer Portal
# Development: http://localhost:3000/profile?oauth=linkedin
# Production: https://yourdomain.com/profile?oauth=linkedin
LINKEDIN_REDIRECT_URI=http://localhost:3000/profile?oauth=linkedin

# -----------------------------------------------------------------------------
# Xing OAuth 1.0a Configuration
# -----------------------------------------------------------------------------
# Register your app at: https://dev.xing.com/applications
# Note: Xing uses OAuth 1.0a (not OAuth 2.0)
XING_CONSUMER_KEY=your-xing-consumer-key
XING_CONSUMER_SECRET=your-xing-consumer-secret
# Callback URL must be registered in Xing Developer Portal
# Development: http://localhost:3000/profile?oauth=xing
# Production: https://yourdomain.com/profile?oauth=xing
XING_CALLBACK_URL=http://localhost:3000/profile?oauth=xing

# -----------------------------------------------------------------------------
# Environment
# -----------------------------------------------------------------------------
ASPNETCORE_ENVIRONMENT=Development
# Options: Development, Staging, Production

# -----------------------------------------------------------------------------
# Application Base URL (for email links, notifications, etc.)
# -----------------------------------------------------------------------------
# This URL is used in email templates for password reset, email verification, etc.
# Development: http://localhost:3000
# Production: https://yourdomain.com
APP_BASE_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# CORS Origins (Frontend URLs)
# -----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# -----------------------------------------------------------------------------
# Service URLs (Override defaults if needed)
# -----------------------------------------------------------------------------
GATEWAY_URL=http://localhost:8080
USERSERVICE_URL=http://localhost:5001
SKILLSERVICE_URL=http://localhost:5002
MATCHMAKINGSERVICE_URL=http://localhost:5003
APPOINTMENTSERVICE_URL=http://localhost:5004
VIDEOCALLSERVICE_URL=http://localhost:5005
NOTIFICATIONSERVICE_URL=http://localhost:5006

# -----------------------------------------------------------------------------
# Frontend Configuration (Vite environment variables)
# -----------------------------------------------------------------------------
VITE_API_BASE_URL=http://localhost:8080
VITE_SIGNALR_URL=http://localhost:8080/videocall

# -----------------------------------------------------------------------------
# WebRTC Configuration (Video Call ICE Servers)
# -----------------------------------------------------------------------------
# STUN servers for NAT traversal (comma-separated list)
VITE_WEBRTC_STUN_URLS=stun:stun.l.google.com:19302,stun:stun1.l.google.com:19302,stun:stun2.l.google.com:19302

# TURN servers for firewall traversal (improves connection success from 80% to 95%+)
# Free public TURN servers (openrelay.metered.ca)
VITE_WEBRTC_TURN_URLS=turn:openrelay.metered.ca:80,turn:openrelay.metered.ca:443
VITE_WEBRTC_TURN_USERNAME=openrelayproject
VITE_WEBRTC_TURN_CREDENTIAL=openrelayproject

# Alternative TURN providers (uncomment and configure if needed):
# Twilio TURN: https://www.twilio.com/stun-turn
# VITE_WEBRTC_TURN_URLS=turn:global.turn.twilio.com:3478?transport=udp
# VITE_WEBRTC_TURN_USERNAME=your-twilio-username
# VITE_WEBRTC_TURN_CREDENTIAL=your-twilio-credential

# Xirsys TURN: https://xirsys.com/
# VITE_WEBRTC_TURN_URLS=turn:your-region.xirsys.com:80?transport=udp
# VITE_WEBRTC_TURN_USERNAME=your-xirsys-username
# VITE_WEBRTC_TURN_CREDENTIAL=your-xirsys-credential
