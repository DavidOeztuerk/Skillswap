{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning",
      "Gateway": "Debug"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "Redis": "localhost:6379,connectTimeout=60000,connectRetry=3,defaultDatabase=0"
  },
  "JwtSettings": {
    "Secret": "${JWT_SECRET}",
    "Issuer": "SkillSwap",
    "Audience": "SkillSwap",
    "ExpireMinutes": 60
  },
  "DistributedRateLimiting": {
    "Enabled": true,
    "RequestsPerMinute": 100,
    "RequestsPerHour": 1000,
    "RequestsPerDay": 10000,
    "EnableIpRateLimiting": true,
    "EnableUserRateLimiting": true,
    "EnableEndpointSpecificLimiting": true,
    "UseSlidingWindow": true,
    "WhitelistedIps": [
      "127.0.0.1",
      "::1"
    ],
    "WhitelistedUserIds": [],
    "WhitelistedEndpoints": [
      "GET:/health",
      "GET:/health/live",
      "GET:/health/ready",
      "GET:/metrics"
    ],
    "EndpointSpecificLimits": {
      "/api/auth/login": {
        "RequestsPerMinute": 5,
        "RequestsPerHour": 20,
        "RequestsPerDay": 100
      },
      "/api/auth/register": {
        "RequestsPerMinute": 3,
        "RequestsPerHour": 10,
        "RequestsPerDay": 50
      },
      "/api/auth/forgot-password": {
        "RequestsPerMinute": 2,
        "RequestsPerHour": 5,
        "RequestsPerDay": 10
      },
      "/api/auth/refresh-token": {
        "RequestsPerMinute": 10,
        "RequestsPerHour": 50,
        "RequestsPerDay": 200
      },
      "/api/upload/*": {
        "RequestsPerMinute": 10,
        "RequestsPerHour": 50,
        "RequestsPerDay": 200
      },
      "/api/search/*": {
        "RequestsPerMinute": 50,
        "RequestsPerHour": 500,
        "RequestsPerDay": 2000
      },
      "/api/admin/*": {
        "RequestsPerMinute": 10,
        "RequestsPerHour": 100,
        "RequestsPerDay": 500
      }
    },
    "Redis": {
      "ConnectionString": "localhost:6379",
      "Database": 1,
      "KeyPrefix": "rl:",
      "ConnectTimeout": 5000,
      "CommandTimeout": 1000,
      "RetryCount": 3,
      "UseCluster": false,
      "UseSsl": false
    },
    "CircuitBreaker": {
      "Enabled": true,
      "FailureThreshold": 5,
      "OpenTimeout": "00:00:30",
      "OperationTimeout": "00:00:02",
      "FallbackBehavior": "AllowAll"
    }
  },
  "SecurityAlerts": {
    "Enabled": true,
    "MaxRecentAlertsInCache": 1000,
    "RetentionDays": 60,
    "EnableEmailNotifications": false,
    "NotificationEmails": [],
    "DuplicateAlertThrottleSeconds": 300,
    "EnableAlertAggregation": true,
    "Thresholds": {
      "AutoBlockIPAfterCriticalAlerts": 5,
      "AutoSuspendUserAfterHighAlerts": 10,
      "MaxAlertsPerIPPerHour": 100
    }
  }
}
